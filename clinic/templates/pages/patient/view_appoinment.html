{% extends "pages/patient/P_base.html" %}
{% load static %}

{% block titles %}View Appoinments || Nepal's Care {% endblock titles %}

{% block pageof %} View Appoinments {% endblock pageof %}
{% block linkPageof %} /p/viewAppoinment/ {% endblock linkPageof %}

{% block content %}

<div class="content flex flex-col flex-1 pt-7">
    <div class="flex flex-col flex-1">
        <div class="container-fluid">
            <!-- Hidden inputs remain unchanged -->
            <input class="appointmentURL" name="appointmentUrl" type="hidden"
                value="https://hms.infyom.com/appointments">
            <!-- ... other hidden inputs ... -->

            <div class="flex flex-col">
                <div wire:id="sfguVwCSRnGQeIxFdQlz">
                    <div wire:key="table-wrapper" x-data="tableWrapper($wire, )">
                        <div id="datatable-sfguVwCSRnGQeIxFdQlz">
                            <div x-data="reorderFunction($wire, 'table-table', 'id')">
                                <div>
                                    <!-- Conditional blocks remain -->
                                </div>

                                <!-- Offline warning -->
                                <div wire:offline.class.remove="hidden" class="hidden">
                                    <div class="alert alert-danger flex items-center">
                                        <!-- SVG and text remain -->
                                    </div>
                                </div>

                                <div class="flex flex-col">
                                    <div class="md:flex justify-between mb-3">
                                        <div class="md:flex">
                                            <div x-show="!currentlyReorderingStatus">
                                                <!-- Content -->
                                            </div>
                                        </div>

                                        <div x-show="!currentlyReorderingStatus" class="md:flex">
                                            <!-- Content -->
                                        </div>
                                    </div>

                                    <!-- Search and Filters -->
                                    <div class="lg:flex justify-between items-center mb-4 sm:mb-7">
                                        <div class="mb-3 sm:mb-0">
                                            <form class="flex relative">
                                                <div class="relative flex w-[320px]">
                                                    <span
                                                        class="absolute flex items-center inset-y-0 left-0 text-gray-600 ml-3">
                                                        <!-- Search icon SVG -->
                                                    </span>
                                                    <input class="form-control search-box pl-8 w-full"
                                                        wire:model.live="search" type="search" placeholder="Search"
                                                        aria-label="Search">
                                                </div>
                                            </form>
                                        </div>

                                        <div class="block sm:flex justify-end items-center pt-0 mt-0">
                                            <div class="flex items-center py-1">
                                                <a href="https://hms.infyom.com/appointment-calendars"
                                                    class="inline-flex items-center justify-center w-10 h-10 bg-primary text-primary-foreground rounded-full me-2">
                                                    <!-- Calendar SVG -->
                                                    <svg class="svg-inline--fa fa-calendar-days text-lg"
                                                        aria-hidden="true" focusable="false" data-prefix="fas"
                                                        data-icon="calendar-days" role="img"
                                                        xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                                                        <path fill="currentColor"
                                                            d="M160 32V64H288V32C288 14.33 302.3 0 320 0C337.7 0 352 14.33 352 32V64H400C426.5 64 448 85.49 448 112V160H0V112C0 85.49 21.49 64 48 64H96V32C96 14.33 110.3 0 128 0C145.7 0 160 14.33 160 32zM0 192H448V464C448 490.5 426.5 512 400 512H48C21.49 512 0 490.5 0 464V192zM64 304C64 312.8 71.16 320 80 320H112C120.8 320 128 312.8 128 304V272C128 263.2 120.8 256 112 256H80C71.16 256 64 263.2 64 272V304zM192 304C192 312.8 199.2 320 208 320H240C248.8 320 256 312.8 256 304V272C256 263.2 248.8 256 240 256H208C199.2 256 192 263.2 192 272V304zM336 256C327.2 256 320 263.2 320 272V304C320 312.8 327.2 320 336 320H368C376.8 320 384 312.8 384 304V272C384 263.2 376.8 256 368 256H336zM64 432C64 440.8 71.16 448 80 448H112C120.8 448 128 440.8 128 432V400C128 391.2 120.8 384 112 384H80C71.16 384 64 391.2 64 400V432zM208 384C199.2 384 192 391.2 192 400V432C192 440.8 199.2 448 208 448H240C248.8 448 256 440.8 256 432V400C256 391.2 248.8 384 240 384H208zM320 432C320 440.8 327.2 448 336 448H368C376.8 448 384 440.8 384 432V400C384 391.2 376.8 384 368 384H336C327.2 384 320 391.2 320 400V432z">
                                                        </path>
                                                    </svg>
                                                </a>
                                                <div class="ms-0 md:ms-2" wire:ignore="">
                                                    <div class="dropdown flex items-center me-4 md:me-5">
                                                        <button
                                                            class="inline-flex items-center justify-center w-10 h-10 bg-primary text-primary-foreground rounded-full ps-2 pe-0"
                                                            type="button" id="appointmentFilterBtn"
                                                            data-bs-auto-close="outside" data-bs-toggle="dropdown"
                                                            aria-expanded="false">
                                                            <!-- Filter SVG -->
                                                            <svg class="svg-inline--fa fa-filter" aria-hidden="true"
                                                                focusable="false" data-prefix="fas" data-icon="filter"
                                                                role="img" xmlns="http://www.w3.org/2000/svg"
                                                                viewBox="0 0 512 512">
                                                                <path fill="currentColor"
                                                                    d="M3.853 54.87C10.47 40.9 24.54 32 40 32H472C487.5 32 501.5 40.9 508.1 54.87C514.8 68.84 512.7 85.37 502.1 97.33L320 320.9V448C320 460.1 313.2 471.2 302.3 476.6C291.5 482 278.5 480.9 268.8 473.6L204.8 425.6C196.7 419.6 192 410.1 192 400V320.9L9.042 97.33C-.745 85.37-2.765 68.84 3.854 54.87L3.853 54.87z">
                                                                </path>
                                                            </svg>
                                                        </button>
                                                        <div class="dropdown-menu py-0"
                                                            aria-labelledby="appointmentFilterBtn">
                                                            <div class="text-start border-b py-4 px-7">
                                                                <h3 class="text-gray-900 mb-0">Filter Options</h3>
                                                            </div>
                                                            <div class="p-5">
                                                                <div class="mb-5">
                                                                    <label for="exampleInputSelect2"
                                                                        class="form-label">Status:</label>
                                                                    <select
                                                                        class="form-select status-selector select2-hidden-accessible"
                                                                        id="appointmentStatus" data-control="select2"
                                                                        name="status" tabindex="-1" aria-hidden="true"
                                                                        data-select2-id="select2-data-appointmentStatus">
                                                                        <option value="2"
                                                                            data-select2-id="select2-data-644-zkh7">All
                                                                        </option>
                                                                        <option value="0">Pending</option>
                                                                        <option value="1">Completed</option>
                                                                        <option value="3">Cancelled</option>
                                                                    </select>
                                                                    <!-- Select2 markup remains -->
                                                                </div>
                                                                <div class="flex justify-end">
                                                                    <button type="reset" id="appointmentResetFilter"
                                                                        class="inline-flex items-center px-4 py-2 bg-secondary text-secondary-foreground rounded-md">Reset</button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="flex items-center flex-wrap justify-end">
                                                <div class="me-3">
                                                    <input class="form-control w-[200px]" id="time_range"><b
                                                        class="caret"></b>
                                                </div>
                                                <div class="dropdown pt-1">
                                                    <a href="#"
                                                        class="inline-flex items-center px-4 py-2 bg-primary text-primary-foreground rounded-md"
                                                        id="dropdownMenuButton" data-bs-toggle="dropdown"
                                                        aria-haspopup="true" aria-expanded="false">
                                                        Actions
                                                        <!-- Angle down SVG -->
                                                        <svg class="svg-inline--fa fa-angle-down ml-2"
                                                            aria-hidden="true" focusable="false" data-prefix="fas"
                                                            data-icon="angle-down" role="img"
                                                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                                                            <path fill="currentColor"
                                                                d="M192 384c-8.188 0-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L192 306.8l137.4-137.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-160 160C208.4 380.9 200.2 384 192 384z">
                                                            </path>
                                                        </svg>
                                                    </a>
                                                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                                        <li>
                                                            <a href="https://hms.infyom.com/appointments/create"
                                                                class="dropdown-item px-5">
                                                                New Appointment
                                                            </a>
                                                        </li>
                                                        <li>
                                                            <a href="https://hms.infyom.com/export-appointments"
                                                                class="dropdown-item px-5">
                                                                Export to Excel
                                                            </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Table remains mostly unchanged -->
                                    <div wire:key="table-twrap" class="overflow-x-auto">
                                        <table wire:key="table-table" class="table table-striped w-full"
                                            id="table-table">
                                            <!-- Table content remains -->
                                        </table>
                                    </div>

                                    <!-- Pagination remains mostly unchanged -->
                                    <div>
                                        <div class="flex items-center flex-col xxl:flex-row mb-5 mt-3">
                                            <!-- Pagination content -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock content %}